<!DOCTYPE html>
<html>
    <head>
        <title>Smart Compose</title>
    </head>
    <body>
        <h1>Welcome To Smart Compose Page</h1>
        <textarea id="smart_compose" style="width: 350px;height: 200px;" onchange = "smartCompose()"></textarea>
        <script>
            function smartCompose(){
                var result = document.getElementById('smart_compose').value;
                console.log('result---------------->',result);
                $.ajax({
                    type:"POST",
                    url:"http://127.0.0.1:8001/text_from_textarea",
                    data:{
                        'result':result,
                        'csrfmiddlewaretoken':'{{csrf_token}}'
                    },
                    success:function(data){
                        res = JSON.parse(data);
                        console.log('response----->',res.output);
                        output = res.output;
                        document.getElementById('smart_compose').value += " "+output;
                        

                    }
                });
            }
        </script>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    </body>
</html>